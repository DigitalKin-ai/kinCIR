{
  "active": false,
  "connections": {
    "If document not empty": {
      "main": [
        [
          {
            "node": "Send Email",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send Email without attachment",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If not kinmail": {
      "main": [
        [
          {
            "node": "documentDemandeur",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "documentDemandeur",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "documentDemandeur": {
      "main": [
        [
          {
            "node": "If document not empty",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "entree DocumentDemandeur": {
      "main": [
        [
          {
            "node": "If not kinmail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Email": {
      "main": [
        [
          {
            "node": "response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Email without attachment": {
      "main": [
        [
          {
            "node": "response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "entree DocumentDemandeur",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2023-12-17T22:40:17.010Z",
  "id": "rr8aeSM8QYyY8Po4",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Send Email",
  "nodes": [
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "return {\"json\": {\"response\": JSON.stringify($json)}};"
      },
      "id": "c11a26c2-b7dd-4c45-bf2c-106a4bb97ee8",
      "name": "response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -840,
        0
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "6834f38a-925c-420d-855f-15a8b07bdc5e",
              "leftValue": "={{ Object.keys( $node[\"documentDemandeur\"].json.document ).length > 0 }}",
              "rightValue": "md",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {
          "looseTypeValidation": true
        }
      },
      "id": "47148ce4-5905-48a7-a583-48467336a185",
      "name": "If document not empty",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -1380,
        0
      ]
    },
    {
      "parameters": {
        "errorMessage": "kinDemandeur ne peut pas √™tre KinMail"
      },
      "id": "8f85e234-2ec4-4c4f-8a53-9917f4a0d40a",
      "name": "Stop and Error",
      "type": "n8n-nodes-base.stopAndError",
      "typeVersion": 1,
      "position": [
        -1880,
        220
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "6834f38a-925c-420d-855f-15a8b07bdc5e",
              "leftValue": "={{ $node[\"entree DocumentDemandeur\"].json.kin !== \"kinmail\" }}",
              "rightValue": "md",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {
          "looseTypeValidation": true
        }
      },
      "id": "6af34077-da29-4ee5-8d27-0b187bfae053",
      "name": "If not kinmail",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -1880,
        0
      ]
    },
    {
      "parameters": {
        "workflowId": "H3fxaSnxjZT6EGhc",
        "options": {}
      },
      "id": "c17f7e19-7fd3-4f99-98d4-957589a92d63",
      "name": "documentDemandeur",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        -1660,
        0
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = $node[\"Execute Workflow Trigger\"].json;\n\nif (json.kinDemandeur && json.kinDemandeur !== \"undefined\") {\n  json.kin = json.kinDemandeur;\n}\n\nif (json.missionDemandeur && json.missionDemandeur !== \"undefined\") {\n  json.mission = json.missionDemandeur;\n}\n\nreturn {\"json\": json};"
      },
      "id": "944ba1bf-168f-4da3-ad97-b365252e5d76",
      "name": "entree DocumentDemandeur",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2100,
        0
      ]
    },
    {
      "parameters": {},
      "id": "ad816c39-fc1b-4e1a-90d9-4254ec9e9b4b",
      "name": "Execute Workflow Trigger",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        -2320,
        0
      ]
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $node[\"entree DocumentDemandeur\"].json[\"mailId\"] }}",
        "message": "={{ $node[\"Execute Workflow Trigger\"].json[\"query\"] }}",
        "options": {
          "attachmentsUi": {
            "attachmentsBinary": [
              {
                "property": "={{ Object.keys($binary)[0] }}"
              },
              {
                "property": "={{ Object.keys($binary)[1] }}"
              },
              {
                "property": "={{ Object.keys($binary)[2] }}"
              }
            ]
          },
          "ccList": "={{ $node[\"entree DocumentDemandeur\"].json[\"to\"] ? $node[\"entree DocumentDemandeur\"].json[\"to\"] + \", \" : \"\"}} team@digitalkin.ai",
          "senderName": "={{ $node[\"entree DocumentDemandeur\"].json.kin.toUpperCase() }}"
        }
      },
      "id": "7b921306-0454-42ef-9581-adcdd8b991e4",
      "name": "Send Email",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -1140,
        -140
      ],
      "credentials": {
        "gmailOAuth2": {
          "id": "iPrbr6qZiWHu93N9",
          "name": "Gmail Nicolas"
        }
      }
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $node[\"entree DocumentDemandeur\"].json[\"mailId\"] }}",
        "message": "={{ $node[\"Execute Workflow Trigger\"].json[\"query\"] }}",
        "options": {
          "ccList": "={{ $node[\"entree DocumentDemandeur\"].json[\"to\"] ? $node[\"entree DocumentDemandeur\"].json[\"to\"] + \", \" : \"\"}} team@digitalkin.ai",
          "senderName": "={{ $node[\"entree DocumentDemandeur\"].json.kin.toUpperCase() }}"
        }
      },
      "id": "fb119fef-b38a-4329-86db-1ee27c837b5f",
      "name": "Send Email without attachment",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -1140,
        120
      ],
      "credentials": {
        "gmailOAuth2": {
          "id": "iPrbr6qZiWHu93N9",
          "name": "Gmail Nicolas"
        }
      }
    },
    {
      "parameters": {
        "content": "## todo : verif html"
      },
      "id": "23302864-b71d-441d-bb32-d8f48e2dfcfe",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -2300,
        -100
      ]
    }
  ],
  "pinData": {
    "Execute Workflow Trigger": [
      {
        "json": {
          "query": "<!DOCTYPE html>\n<html>\n<head>\n<title>Mise √† Jour du Projet CIR</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 0;\n    padding: 0;\n    background-color: #f4f4f4;\n    color: #333;\n  }\n  .container {\n    width: 80%;\n    margin: auto;\n    background: #fff;\n    padding: 20px;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  }\n  .header, .footer {\n    background: #007bff;\n    color: white;\n    padding: 10px;\n    text-align: center;\n  }\n  .content {\n    margin: 20px 0;\n  }\n  .logo-header, .logo-footer {\n    text-align: center;\n    background-color: #333;\n    padding: 10px;\n  }\n  .logo-header img, .logo-footer img {\n    height: 50px;\n  }\n  .link {\n    color: #007bff;\n    text-decoration: none;\n  }\n  .bold {\n    font-weight: bold;\n  }\n  .progress-symbol {\n    font-size: 20px;\n  }\n  .completed { color: green; }\n  .in-progress { color: blue; }\n  .to-improve { color: yellow; }\n  .not-started { color: red; }\n</style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"logo-header\">\n      <a href=\"https://digitalkin.ai/\">\n        <img src=\"https://images.squarespace-cdn.com/content/v1/62a5afa70a34fc7b525445fa/32223e40-6505-437f-88f5-d2563d8d9493/Logo+and+Textfull_white.png?format=1500w\" alt=\"DigitalKin Logo\">\n      </a>\n    </div>\n    <div class=\"header\">\n      <h1>Progression de l'Int√©gration du KinFinalisateur et Avancements du Projet CIR</h1>\n    </div>\n    <div class=\"content\">\n      <h2>√âchelle de Progression du Projet</h2>\n      <p><span class=\"bold\">Symboles :</span></p>\n      <ul>\n        <li><span class=\"progress-symbol completed\">üü¢</span> Compl√©t√© et satisfaisant</li>\n        <li><span class=\"progress-symbol in-progress\">üîµ</span> En cours / Partiellement compl√©t√©</li>\n        <li><span class=\"progress-symbol to-improve\">üü°</span> √Ä revoir / N√©cessite des am√©liorations</li>\n        <li><span class=\"progress-symbol not-started\">üî¥</span> Non commenc√© / En attente</li>\n      </ul>\n      <p><span class=\"bold\">Application de l'√âchelle de Progression :</span></p>\n      <ul>\n        <li><span class=\"progress-symbol completed\">üü¢</span> Cr√©ation de la proposition de valeur pour le KinFinalisateur :</li>\n        <li><span class=\"progress-symbol in-progress\">üîµ</span> Finalisation des documents n√©cessaires au lancement du KinFinalisateur</li>\n        <!-- Autres √©tapes √† ajouter selon besoin -->\n      </ul>\n    </div>\n    <div class=\"footer\">\n      <p>√Ä dynergie,</p>\n      <p>Nous appr√©cions grandement votre confiance et votre soutien dans ce projet. Nous sommes convaincus que le KinFinalisateur apportera une valeur ajout√©e significative, en am√©liorant la qualit√© et l'efficacit√© de nos livrables. N'h√©sitez pas √† nous contacter pour tout compl√©ment d'information ou suggestion.</p>\n      <p>Avec toute notre consid√©ration,</p>\n      <p>L'√©quipe DigitalKin</p>\n    </div>\n    <div class=\"logo-footer\">\n      <a href=\"https://digitalkin.ai/\">\n        <img src=\"https://images.squarespace-cdn.com/content/v1/62a5afa70a34fc7b525445fa/32223e40-6505-437f-88f5-d2563d8d9493/Logo+and+Textfull_white.png?format=1500w\" alt=\"DigitalKin Logo\">\n      </a>\n    </div>\n  </div>\n</body>\n</html>",
          "sync": true,
          "kin": "kinmail",
          "mission": "[PROCESSUS - Mission : R√©daction & Envoi D'Email]\n\nTa mission est de r√©diger et d'envoyer le mail appropri√© au client √† partir des informations dont tu disposes.\n\n[/PROCESSUS - Mission : R√©daction & Envoi D'Email]\n\n---\n\n[INFORMATIF - Date]\n\n2024-01-30T23:36:04.059+01:00\n\n[/INFORMATIF - Date]\n\n---\n\n[INFORMATIF - Client]\n\ndynergie\n\n[/INFORMATIF - Client]\n\n\n---\n\n[INFORMATIF - Mission]\n\nKinRSI[PROCESSUS - Nouvelle Mission KinRSI : Cr√©ation du Prompt KinFinalisateur]\n\nLa t√¢che principale pour cette mission est la cr√©ation d'un nouveau Kin, le KinFinalisateur. Celui-ci aura la responsabilit√© de finaliser les documents produits par l'√©quipe, en s'assurant de leur coh√©rence par rapport au template, √† l'imbrication correcte des titres et √† l'utilisation ad√©quate des balises. Le KinFinalisateur devra √©galement int√©grer et v√©rifier la coh√©rence du contenu produit pendant la mission et dans le thread correspondant. Cette capacit√© √† faire la synth√®se et √† assurer la standardisation et l'optimisation finale des documents est essentielle pour am√©liorer l'efficacit√© et la qualit√© du workflow de production de l'√©quipe.\n\n[/PROCESSUS - Nouvelle Mission KinRSI : Cr√©ation du Prompt KinFinalisateur]\n\n[/INFORMATIF - Mission]\n\n\n---\n\n[INFORMATIF - Dernier Kin Producteur ]\n\nkinrsi\n\n[/INFORMATIF - Dernier Kin Producteur ]\n\n\n---\n\n[INFORMATIF - Derni√®re production du Kin Producteur]\n\n[CONTENU - Syst√®me de Balisage des Kins du KinFinalisateur]\n\n**PROCESSUS - Syst√®me de Balisage des Kins v1.1.3 KinFinalisateur :**\n\nPour une communication claire et une collaboration efficace, le KinFinalisateur doit suivre ce syst√®me de balisage am√©lior√©.\n\nUtilise chaque balise avec un titre sp√©cifique au contexte apr√®s le \"-\", et assure-toi de la fermer correctement avec le m√™me titre.\n\nBalises que tu peux utiliser :\n- [ANALYSE - R√©flexion] : Permet au KinFinalisateur de signaler les points n√©cessitant une r√©flexion suppl√©mentaire ou des clarifications avant la finalisation.\n- [CONTENU - Description Finale] : Cette balise est essentielle pour le KinFinalisateur, car elle d√©limite le contenu final inclus dans le document produit. Elle aide √† distinguer clairement les sections d√©finitivement valid√©es de celles qui pourraient encore n√©cessiter des r√©visions.\n- [RETOUR - Information ou commentaire] : Utilis√©e pour partager des feedbacks sur le document, indiquant des am√©liorations possibles ou confirmant que les exigences sont satisfaites.\n- [DEMANDE - Besoin Sp√©cifique] : Si le contenu n√©cessite une expertise suppl√©mentaire ou une validation, le KinFinalisateur peut utiliser cette balise pour solliciter un apport ext√©rieur sp√©cifique.\n- [EXCEPTION - Anomalie] : Cette balise est employ√©e pour signaler des erreurs, des incoh√©rences ou des divergences importantes par rapport au template ou aux instructions initiales.\n- [AMELIORATION - Suggestion] : Le KinFinalisateur peut sugg√©rer des am√©liorations pour √©lever la qualit√© du document final, telles que des changements stylistiques ou des recommandations de contenu pour mieux aligner le document avec les objectifs de la mission.\n\n**Exemple d'utilisation dans le processus de finalisation :**\n- Apr√®s avoir revu un rapport, le KinFinalisateur peut utiliser [RETOUR - Information ou commentaire] pour indiquer que certaines sections n√©cessitent une reformulation pour am√©liorer la clart√©, suivie de [AMELIORATION - Suggestion] pour proposer sp√©cifiquement comment ces sections pourraient √™tre am√©lior√©es.\n\nCet ensemble de balises, sp√©cialement adapt√© au r√¥le du KinFinalisateur, favorise un processus de finalisation m√©thodique et ordonn√©, encourageant la pr√©cision, la clart√©, et l'alignement avec les attentes du projet.\n\n[/CONTENU - Syst√®me de Balisage des Kins du KinFinalisateur]\n\n[/INFORMATIF - Derni√®re production du Kin Producteur]\n\n\n---\n\n[INFORMATIF - Dernier Message du KinManager]\n\n[PROCESSUS - Avancement de la mission]\n\nTODOLIST :\n- **ACTION n¬∞1. R√©daction de la partie 'Instructions Globales' du prompt du Kin** : DONE\n- **ACTION n¬∞2. R√©daction de la partie 'R√¥le' du prompt du Kin** : DONE\n- **ACTION n¬∞3. R√©daction de la partie 'Contexte' du prompt du Kin** : DONE\n- **ACTION n¬∞4. R√©daction de la partie 'Proposition de Valeur' du prompt du Kin**  : DONE\n- **ACTION n¬∞5. R√©daction de la partie 'Syst√®me de Balisage des Kins' du prompt du Kin** : DONE\n- **ACTION OUVERTE : Identification du nombre d'Actions n√©c√©ssaire dans le prompt du Kin** : TODO\n- **ACTION n¬∞6.1 R√©daction de la partie 'ACTION 1' du prompt du Kin** : TODO\n- **ACTION n¬∞6.2 R√©daction de la partie 'ACTION 2' du prompt du Kin** : TODO\n- **ACTION n¬∞6.3 R√©daction de la partie 'ACTION 3' du prompt du Kin** : TODO\n- [...]\n- **ACTION n¬∞7. Evaluation du prompt** : TODO\n- **ACTION OUVERTE : Am√©lioration suivant l'√©valuation etc.** : TODO\n- **ACTION n¬∞8. Rapport de mission et commentaire.** : TODO\n\n[/PROCESSUS - Avancement de la mission]\n\n---\n\n[INSTRUCTION - Poursuite de la Mission par KinRSI]\n\nKinRSI, il est maintenant temps de progresser avec l'**ACTION OUVERTE : Identification du nombre d'Actions n√©c√©ssaire dans le prompt du Kin**. Pour cette t√¢che, tu dois d√©terminer et structurer les actions sp√©cifiques que le KinFinalisateur doit accomplir pour mener √† bien sa mission de finalisation des documents. Ceci inclut d'√©valuer et de d√©finir les √©tapes essentielles du processus de finalisation, comment le KinFinalisateur interagit avec les autres membres de l'√©quipe, et comment il applique le syst√®me de balisage pr√©c√©demment d√©taill√©. Sois pr√©cis et donne des exemples concrets pour chaque action identifi√©e.\n\n[/INSTRUCTION - Poursuite de la Mission par KinRSI]\n\n[/INFORMATIF - Dernier Message du KinManager]",
          "mailId": "18d5c78ef227935c",
          "kinDemandeur": "KinRSI",
          "missionDemandeur": "undefined"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "callerPolicy": "any"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2024-01-21T09:47:18.925Z",
      "updatedAt": "2024-01-21T09:47:18.925Z",
      "id": "G7odwuwbJmUt0XX2",
      "name": "prod"
    },
    {
      "createdAt": "2023-12-17T10:32:35.457Z",
      "updatedAt": "2023-12-17T10:32:35.457Z",
      "id": "y4SS6pvxfLMwCsGn",
      "name": "service"
    }
  ],
  "triggerCount": 1,
  "updatedAt": "2024-01-30T22:51:47.000Z",
  "versionId": "d49e1a07-bc36-4e98-ad63-d2ac9f6b7fd7"
}