{
  "active": true,
  "connections": {
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "/crud_mission/read1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "entree": {
      "main": [
        [
          {
            "node": "Fetch onoff",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "defaultEmbedding": {
      "main": [
        [
          {
            "node": "entree thread",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch onoff": {
      "main": [
        [
          {
            "node": "If on",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If on": {
      "main": [
        [
          {
            "node": "defaultEmbedding",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Questionneur de Prompt": {
      "ai_tool": [
        [
          {
            "node": "kinmanager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "CRUD Mission : Update execution todo": {
      "main": [
        [
          {
            "node": "/crud_mission/update/status todo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Questionneur de Kin": {
      "ai_tool": [
        [
          {
            "node": "kinmanager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Questionneur de document": {
      "ai_tool": [
        [
          {
            "node": "kinmanager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "/crud_mission/update/execution todo": {
      "main": [
        [
          {
            "node": "CRUD Mission : Update execution todo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "/crud_mission/update/status todo": {
      "main": [
        [
          {
            "node": "CRUD Mission : Update status todo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "kinmanager": {
      "main": [
        [
          {
            "node": "/crud_mission/read",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "threadManagement Init": {
      "main": [
        [
          {
            "node": "threadManagement",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "threadManagement": {
      "main": [
        [
          {
            "node": "kinmanager",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "/crud_mission/read": {
      "main": [
        [
          {
            "node": "CRUD Mission : Read",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CRUD Mission : Read": {
      "main": [
        [
          {
            "node": "mission",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "mission": {
      "main": [
        [
          {
            "node": "If mission status done",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If execution doing": {
      "main": [
        [
          {
            "node": "add threadManagement",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "entree notifications",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If mission status done": {
      "main": [
        [
          {
            "node": "If not kinmail",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If mission status exception",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "thread": {
      "main": [
        [
          {
            "node": "threadManagement Init",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "entree thread": {
      "main": [
        [
          {
            "node": "thread",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "entree notifications": {
      "main": [
        [
          {
            "node": "Send  Notifications",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send  Notifications": {
      "main": [
        [
          {
            "node": "/crud_mission/update/execution todo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "nouvelleMission kinmail": {
      "main": [
        [
          {
            "node": "CRUD Mission : Create",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "mission kinmail": {
      "main": [
        [
          {
            "node": "nouvelleMission kinmail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If not kinmail": {
      "main": [
        [
          {
            "node": "Send Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If mission status exception": {
      "main": [
        [
          {
            "node": "If not kindev",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If mission status waiting",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "mission kindev": {
      "main": [
        [
          {
            "node": "nouvelleMission kindev",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "nouvelleMission kindev": {
      "main": [
        [
          {
            "node": "CRUD Mission : Create1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If not kindev": {
      "main": [
        [
          {
            "node": "mission kindev",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "get body",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get body": {
      "main": [
        [
          {
            "node": "/crud_mission/read1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "/crud_mission/read1": {
      "main": [
        [
          {
            "node": "CRUD Mission : Read1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CRUD Mission : Read1": {
      "main": [
        [
          {
            "node": "entree",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CRUD Mission": {
      "ai_tool": [
        [
          {
            "node": "kinmanager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "If mission status waiting": {
      "main": [
        [],
        [
          {
            "node": "If execution doing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message Ã  humain": {
      "ai_tool": [
        [
          {
            "node": "kinmanager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "If infinite loop": {
      "main": [
        [
          {
            "node": "Stop and Error2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "threadManagement",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "add threadManagement": {
      "main": [
        [
          {
            "node": "If infinite loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-02-06T16:08:01.983Z",
  "id": "0LhMxlt62MaWdiqs",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "BOUCLE DE MANAGEMENT",
  "nodes": [
    {
      "parameters": {},
      "id": "4c551096-2d8c-448e-9074-2ca4e6e13bc6",
      "name": "Execute Workflow Trigger",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        -1440,
        960
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = $json;\n\njson.date = $now.toString();\njson.executionId = $execution.id;\n$execution.customData.set(\"kin\", String(json.kin));\n\nreturn {\"json\": json};"
      },
      "id": "59d20e8c-1475-4d1a-a7ff-41b956116f39",
      "name": "entree",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -560,
        960
      ]
    },
    {
      "parameters": {
        "workflowId": "=IJeSapyzv0Y9koZ9",
        "options": {}
      },
      "id": "543fbe37-60f8-46f4-a7c0-fd2d349bc8b6",
      "name": "defaultEmbedding",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        80,
        960
      ]
    },
    {
      "parameters": {
        "url": "={{ $vars.vectorDatabaseEndpoint }}vectors/fetch",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "pineconeApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "application/json"
            },
            {
              "name": "content-type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"namespace\": \"onoff\",\n  \"ids\": [\"onoff\"]\n}",
        "options": {}
      },
      "id": "ced671dc-c605-48d5-bc8a-9ab5e95b633a",
      "name": "Fetch onoff",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        -360,
        960
      ],
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "pineconeApi": {
          "id": "LakE1nni5DFtskNv",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "026b34bb-7dfa-4fa4-af16-d78a4e166711",
              "leftValue": "={{ $json.vectors.onoff.metadata.value }}",
              "rightValue": "on",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "c6312eb3-e720-4c14-b5da-87e42e153820",
      "name": "If on",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -140,
        960
      ]
    },
    {
      "parameters": {
        "name": "questionneur_de_prompt",
        "description": "Le questionneur_de_prompt retourne un extrait du prompt systÃ¨me statique du Kin demandÃ© ou une rÃ©pond Ã  une question sur le prompt Ã  partir d'une demande informationnelle dÃ©taillÃ©e. Cela permet de rÃ©pondre Ã  des questions sur la proposition de valeur, le rÃ´le, et les Actions disponibles pour ce Kin.\n\nPour bien l'utiliser, il faut rÃ©diger un paragraphe de demande dÃ©taillÃ©e contenant :\n- Le nom du Kin dont tu souhaites rÃ©cupÃ©rer le prompt,\n- La section demandÃ©e (Proposition de Valeur, Action nÂ°1, etc.)\n- Verbatim/non-verbatim : Si les extraits du prompt doivent Ãªtre retranscrit verbatim",
        "workflowId": "1gSRJ9a1XiIgSYRx",
        "fields": {
          "values": [
            {
              "name": "mission",
              "stringValue": "={{ $node[\"entree\"].json.mission }}"
            },
            {
              "name": "threadId",
              "stringValue": "={{ $node[\"entree\"].json.threadId }}"
            },
            {
              "name": "kinDemandeur",
              "stringValue": "kinmanager"
            }
          ]
        }
      },
      "id": "02b6a17c-ad10-4f6c-87aa-dccb5dabf986",
      "name": "Questionneur de Prompt",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1,
      "position": [
        1760,
        1240
      ]
    },
    {
      "parameters": {
        "workflowId": "HLDDZOmG8kuk2zTi",
        "options": {}
      },
      "id": "1fc1f2bb-a5f8-4f76-81ab-0cd784591e94",
      "name": "CRUD Mission : Update status todo",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        4800,
        1980
      ]
    },
    {
      "parameters": {
        "workflowId": "HLDDZOmG8kuk2zTi",
        "options": {}
      },
      "id": "93869e26-28c8-4064-83d3-4cb0ddf3a48a",
      "name": "CRUD Mission : Update execution todo",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        4360,
        1980
      ]
    },
    {
      "parameters": {
        "name": "questionneur_de_kin",
        "description": "La fonction questionneur_de_kin permet de poser Ã  un Kin de l'Ã©quipe une question rapide.\n\nPour bien l'utiliser :\n- Mentionne le nom du @Kin,\n- Explique ton contexte et ton intention d'usage,\n- ta question.",
        "workflowId": "m3wfYxyTxFXqib9D",
        "fields": {
          "values": [
            {
              "name": "=kin",
              "stringValue": "={{ $node[\"entree\"].json.kin }}"
            },
            {
              "name": "mission",
              "stringValue": "={{ $node[\"entree\"].json.mission }}"
            },
            {
              "name": "threadId",
              "stringValue": "={{ $node[\"entree\"].json.mission }}"
            },
            {
              "name": "missionId",
              "stringValue": "={{ $node[\"entree\"].json.missionId }}"
            },
            {
              "name": "kinDemandeur",
              "stringValue": "kinmanager"
            }
          ]
        }
      },
      "id": "3b7bfb6f-5d6c-4e3b-890b-5c2effafbaff",
      "name": "Questionneur de Kin",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1,
      "position": [
        1280,
        1240
      ]
    },
    {
      "parameters": {
        "name": "questionneur_de_document",
        "description": "=Le questionneur_de_document retourne une rÃ©ponse issue du contenu du document final sur lequel travaille le Kin Producteur, Ã  partir d'une demande informationnelle dÃ©taillÃ©e.\n\nPour bien l'utiliser, il faut rÃ©diger un paragraphe de demande dÃ©taillÃ©e, contenant :\n- (optionnel) Si tu souhaites du verbatim,\n- Les informations que tu cherches,\n- L'intention d'usage : tu souhaites faire de la rÃ©ponse,\n- Le format de rÃ©ponse dÃ©sirÃ©.",
        "workflowId": "anybPoo9G98Nx3qW",
        "fields": {
          "values": [
            {
              "name": "sync",
              "type": "booleanValue"
            },
            {
              "name": "kin",
              "stringValue": "={{ $node[\"entree\"].json.kin }}"
            },
            {
              "name": "mission",
              "stringValue": "={{ $node[\"entree\"].json.mission }}"
            },
            {
              "name": "documentGoogleDriveId",
              "stringValue": "={{ $node[\"entree\"].json.documentGoogleDriveId }}"
            },
            {
              "name": "format",
              "stringValue": "md"
            },
            {
              "name": "threadId",
              "stringValue": "={{ $node[\"entree\"].json.threadId }}"
            }
          ]
        }
      },
      "id": "a4b42a7c-112b-4ec7-b54d-ae2bff742b13",
      "name": "Questionneur de document",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1,
      "position": [
        1600,
        1240
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = $node[\"entree\"].json;\n\njson.query = \"/crud_mission/update/execution todo\";\n\nreturn {\"json\": json};"
      },
      "id": "c3bca6d7-1f7f-456f-b898-cf0cfe5a34cd",
      "name": "/crud_mission/update/execution todo",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4140,
        1880
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = $node[\"entree\"].json;\n\njson.query = \"/crud_mission/update/status todo\";\n\nreturn {\"json\": json};"
      },
      "id": "bb2f96c6-e5c8-45bc-8436-c6378fdbf9c0",
      "name": "/crud_mission/update/status todo",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4580,
        1880
      ]
    },
    {
      "parameters": {
        "assistantId": "asst_NRJfqzvKf73U2CjrI4bqMSf5",
        "text": "=[INFORMATIF - Mission du Producteur ({{ $node[\"entree\"].json.dernierProducteur }})]\n\n{{ $node[\"entree\"].json.mission.length > 5000 ? \"[...]\" : \"\" }}{{ $node[\"entree\"].json.mission.substring($node[\"entree\"].json.mission.length - 5000)}}\n\n[/INFORMATIF - Mission du Producteur ({{ $node[\"entree\"].json.dernierProducteur }})]\n\n===\n\n[INFORMATIF - THREAD D'AVANCEMENT du {{ $node[\"entree\"].json.dernierProducteur }}]\n\n{{ $node[\"thread\"].json.thread.length > 5000 ? \"[...]\" : \"\" }}{{ $node[\"thread\"].json.thread.substring($node[\"thread\"].json.thread.length - 5000) }}\n\n[/INFORMATIF - THREAD D'AVANCEMENT du {{ $node[\"entree\"].json.dernierProducteur }}]\n\n===\n\n[INFORMATIF - DerniÃ¨res Instructions que tu as donnÃ©es Ã  {{ $node[\"entree\"].json.dernierProducteur }}]\n\n{{ $node[\"entree\"].json.instructions }}\n\n[/INFORMATIF - DerniÃ¨res Instructions que tu as donnÃ©es Ã  {{ $node[\"entree\"].json.dernierProducteur }}]\n\n===\n\n[INFORMATIF - RÃ©daction rÃ©alisÃ©e / Actions effectuÃ©es par {{ $node[\"entree\"].json.dernierProducteur }}]\n\n{{ $node[\"entree\"].json.output.length > 5000 ? \"[...]\" : \"\" }}{{ $node[\"entree\"].json.output.substring($node[\"entree\"].json.output.length - 5000)}}\n\n[/INFORMATIF - RÃ©daction rÃ©alisÃ©e / Actions effectuÃ©es par {{ $node[\"entree\"].json.dernierProducteur }}]\n\n===\n\n{{ $json.threadManagement }}",
        "options": {}
      },
      "id": "8101b345-e135-4484-9538-703906b31a84",
      "name": "kinmanager",
      "type": "@n8n/n8n-nodes-langchain.openAiAssistant",
      "typeVersion": 1,
      "position": [
        1620,
        960
      ],
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "openAiApi": {
          "id": "WY3bm7GCb9qfewyS",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "content": "# Continuer la production",
        "height": 281.6342991491455,
        "width": 949.8359845868031
      },
      "id": "5335ca45-248b-44b7-b58d-0fa9a510a78d",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        4060,
        1820
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "return {\"json\": {\"threadManagement\": $json.threadManagement, \"loopCount\": $json.loopCount}};"
      },
      "id": "be23cc78-1c1e-44a9-b3ce-4442ff00f5d4",
      "name": "threadManagement",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1060,
        960
      ]
    },
    {
      "parameters": {
        "fields": {
          "values": [
            {
              "name": "threadManagement",
              "stringValue": "=[MISSION KINMANAGER : Manager la Boucle de Production]\n\nEffectuer les Actions 1, 2, 3 de ton processus de KinManager une par une, de maniÃ¨re Ã  :\n- **ACTION - 1. DÃ©terminer la Prochaine Ãtape : TODO**\n- **ACTION - 2. Mettre Ã  Jour des Instructions via appel GPT : TODO**\n- **ACTION - 3. DÃ©clencher la Prochaine Ãtape via appel GPT : TODO**\n\n[/MISSION KINMANAGER : Manager la Boucle de Production]\n\n===\n\nINSTRUCTION : Effectue l'ACTION NÂ°1."
            },
            {
              "name": "loopCount",
              "type": "numberValue",
              "numberValue": "1"
            }
          ]
        },
        "options": {}
      },
      "id": "01a2e19a-6cfe-44d4-9032-d15618886c1e",
      "name": "threadManagement Init",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [
        800,
        960
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let output = $node[\"kinmanager\"].json.output;\nlet threadManagement = $node[\"threadManagement\"].json.threadManagement;\nlet loopCount = $node[\"threadManagement\"].json.loopCount+1;\n\nthreadManagement += output + \"\\n\\n---\\n\\n Instruction : Continue avec la prochaine Ã©tape. N'oublie pas d'utiliser la fonction GPT \\\"crud_mission\\\", et pas la sortie standard.\";\n\nreturn {\"json\": {\"threadManagement\": threadManagement, \"loopCount\": loopCount}};"
      },
      "id": "d047dbce-dab0-4120-99ec-cbc200af090a",
      "name": "add threadManagement",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3100,
        1580
      ]
    },
    {
      "parameters": {
        "workflowId": "HLDDZOmG8kuk2zTi",
        "options": {}
      },
      "id": "5885aa3b-b4ed-4e4d-8028-054723f69bbe",
      "name": "CRUD Mission : Read",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        2200,
        960
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = {};\n\njson.query = \"/crud_mission/read\";\njson.missionId = $node[\"entree\"].json.missionId;\n\nreturn {\"json\": json};"
      },
      "id": "e6a70dbd-838c-4003-bfe3-0c05b80d923d",
      "name": "/crud_mission/read",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1980,
        960
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "return {\"json\":JSON.parse($json.response)};"
      },
      "id": "b8025611-5c9c-4f2e-b94d-09372e7c8eac",
      "name": "mission",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2400,
        960
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "f86d6c4a-14cb-46a7-a631-06f4f2aad672",
              "leftValue": "={{ $json.execution }}",
              "rightValue": "doing",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "2999f64d-a911-44c7-9907-c07f0553a5bc",
      "name": "If execution doing",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        2840,
        1600
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "f86d6c4a-14cb-46a7-a631-06f4f2aad672",
              "leftValue": "={{ $json.status }}",
              "rightValue": "done",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "b20ade2b-a3e4-4c1e-8994-cbf4d2d31495",
      "name": "If mission status done",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        2620,
        960
      ]
    },
    {
      "parameters": {
        "workflowId": "YWxRZmBa38HYCjnv",
        "options": {}
      },
      "id": "1494fc15-de27-4700-a288-9d44ca7827af",
      "name": "thread",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        560,
        960
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = $node[\"entree\"].json;\n\nreturn {\"json\": json};"
      },
      "id": "865afd13-0488-45f3-b997-80f40479f84a",
      "name": "entree thread",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        320,
        960
      ]
    },
    {
      "parameters": {
        "content": "## Trigger by\nCRUD Mission : https://kins.app.n8n.cloud/workflow/HLDDZOmG8kuk2zTi\nBOUCLE DE PRODUCTION : https://kins.app.n8n.cloud/workflow/RCzPi7XT4ijau6eF",
        "height": 176.81162829198897,
        "width": 250.71967654986526
      },
      "id": "babdbdaf-bdde-4c60-90e3-a0fca6792970",
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1740,
        920
      ]
    },
    {
      "parameters": {
        "content": "## Get defaultEmbedding\nhttps://kins.app.n8n.cloud/workflow/IJeSapyzv0Y9koZ9",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "8d7371bd-6a48-4fe8-84a0-9032ecd54ef4",
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        840
      ]
    },
    {
      "parameters": {
        "content": "## Get/Create Thread\nhttps://kins.app.n8n.cloud/workflow/YWxRZmBa38HYCjnv",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "66232778-7c2f-4781-8aae-eff09efa6028",
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        480,
        840
      ]
    },
    {
      "parameters": {
        "content": "## CRUD Mission\nhttps://kins.app.n8n.cloud/workflow/HLDDZOmG8kuk2zTi",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "e5bef0dc-bb31-4896-9306-f43ecf64a9b2",
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2120,
        840
      ]
    },
    {
      "parameters": {
        "content": "## CRUD Mission\nhttps://kins.app.n8n.cloud/workflow/HLDDZOmG8kuk2zTi",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "18d50cc4-86cb-403b-8d35-5b95db379346",
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        4280,
        1880
      ]
    },
    {
      "parameters": {
        "content": "## CRUD Mission\nhttps://kins.app.n8n.cloud/workflow/HLDDZOmG8kuk2zTi",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "6044fc43-da1e-41c3-8a28-827bece261d6",
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        4720,
        1880
      ]
    },
    {
      "parameters": {
        "workflowId": "=EYWde6gUS9Qq2ok7",
        "options": {}
      },
      "id": "ff6ac04a-ec98-49ad-90fa-a0f049a42ae4",
      "name": "Send  Notifications",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        3940,
        1880
      ],
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = $node[\"mission\"].json;\n\nreturn {\"json\" : json};"
      },
      "id": "2d689b2e-d48d-4dce-b4f6-666db45bc7fb",
      "name": "entree notifications",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3740,
        1880
      ]
    },
    {
      "parameters": {
        "content": "## todo : protection cas boucle infinie "
      },
      "id": "bc34c6b8-a833-4546-9a4e-cdb4dc664403",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2140,
        1420
      ]
    },
    {
      "parameters": {
        "content": "## Todo : gÃ©rer status exception : sortir de la boucle"
      },
      "id": "d144af61-7075-4a41-a3c6-c28600f6eefa",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2440,
        1400
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "f86d6c4a-14cb-46a7-a631-06f4f2aad672",
              "leftValue": "={{ $json.status }}",
              "rightValue": "exception",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "eb78a878-ae98-4e41-9cf0-4cbd7cebc2c7",
      "name": "If mission status exception",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        2780,
        1200
      ]
    },
    {
      "parameters": {
        "content": "## CRUD Mission\nhttps://kins.app.n8n.cloud/workflow/HLDDZOmG8kuk2zTi",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "13188348-1b2a-41ac-aea3-9e7cd86a4d9d",
      "name": "Sticky Note21",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3980,
        840
      ]
    },
    {
      "parameters": {
        "content": "# Fin de mission",
        "height": 278.0034245476785,
        "width": 949.8359845868031
      },
      "id": "9e2b7cf1-22b6-408c-ac40-86d60b4a4f74",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3320,
        780
      ]
    },
    {
      "parameters": {
        "workflowId": "HLDDZOmG8kuk2zTi",
        "options": {}
      },
      "id": "7a666bdf-4ae2-413d-a865-4bb9490dd211",
      "name": "CRUD Mission : Create",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        4060,
        960
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "c0b309e0-3b5d-4002-8ca5-2b8aae1e0572",
              "leftValue": "={{ $node[\"mission\"].json.kin }}",
              "rightValue": "=kinmail",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {
          "ignoreCase": true
        }
      },
      "id": "682260d2-4356-4a6f-98fb-1f5f01baf8da",
      "name": "If not kinmail",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        3400,
        860
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = JSON.parse(JSON.stringify($node[\"entree\"].json));\n\ndelete json.query;\n\n// Mettre Ã  jour le Kin\njson.kinDemandeur = json.kin;\njson.kin = \"kinmail\";\n\n// Mettre Ã  jour la mission\njson.query = \"/crud_mission/create/\" + json.kin  + \" \" + $node[\"mission kinmail\"].json.mission;\n\nreturn {\"json\": json};"
      },
      "id": "ddf72be7-cc39-42de-831c-8e9b434cd1ae",
      "name": "nouvelleMission kinmail",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3840,
        860
      ]
    },
    {
      "parameters": {
        "fields": {
          "values": [
            {
              "name": "mission",
              "stringValue": "=Date : {{ $node[\"entree\"].json.date }}\nClient : {{ $node[\"entree\"].json.client }}\n\n**PROCESSUS - MISSION : RÃ©daction & Envoi du mail de clÃ´ture par KinMail:**\n\nLa mission du  {{  $node[\"entree\"].json.dernierProducteur }} est accomplie. **Ta mission, en tant que KinMail, est de rÃ©diger et d'envoyer au client le mail de clÃ´ture prÃ©sentant le travail accompli.\n\n===\n\n"
            }
          ]
        },
        "options": {}
      },
      "id": "b560ab29-bcef-4fc5-a70c-3faf8e261bad",
      "name": "mission kinmail",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [
        3620,
        860
      ]
    },
    {
      "parameters": {
        "content": "## CRUD Mission\nhttps://kins.app.n8n.cloud/workflow/HLDDZOmG8kuk2zTi",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "79d67ac4-3673-487f-82c5-5cdacb0421bb",
      "name": "Sticky Note22",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3980,
        1240
      ],
      "disabled": true
    },
    {
      "parameters": {
        "content": "# Mission de debug",
        "height": 278.0034245476785,
        "width": 949.8359845868031
      },
      "id": "cee9a40f-48f4-44b2-a833-32c0833abb07",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3320,
        1180
      ],
      "disabled": true
    },
    {
      "parameters": {
        "workflowId": "HLDDZOmG8kuk2zTi",
        "options": {}
      },
      "id": "594a5111-27be-4971-8518-c0ede0006373",
      "name": "CRUD Mission : Create1",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        4060,
        1360
      ],
      "disabled": true
    },
    {
      "parameters": {
        "fields": {
          "values": [
            {
              "name": "mission",
              "stringValue": "=Date : {{ $node[\"entree\"].json.date }}\nClient : {{ $node[\"entree\"].json.client }}\n\n**PROCESSUS - MISSION : Gestion de l'EXCEPTION :**\n\nLa mission du  {{  $node[\"entree\"].json.dernierProducteur }} a donnÃ© lieu Ã  une EXCEPTION. **Ta mission, en tant que KinDev, est de comprendre le problÃ¨me et d'Ã©crire un court rapport d'exception.\n\n===\n\n"
            }
          ]
        },
        "options": {}
      },
      "id": "538d0cde-bdc8-4a3e-96b8-fc78fd21a41d",
      "name": "mission kindev",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [
        3620,
        1260
      ],
      "disabled": true
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = JSON.parse(JSON.stringify($node[\"entree\"].json));\n\ndelete json.query;\n\n// Mettre Ã  jour le Kin\njson.kinDemandeur = json.kin;\njson.kin = \"kindev\";\n\n// Mettre Ã  jour la mission\njson.query = \"/crud_mission/create/\" + json.kin  + \" \" + $node[\"mission kindev\"].json.mission;\n\nreturn {\"json\": json};"
      },
      "id": "782ab842-2928-45ec-ae29-87784b97aae4",
      "name": "nouvelleMission kindev",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3840,
        1260
      ],
      "disabled": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "c0b309e0-3b5d-4002-8ca5-2b8aae1e0572",
              "leftValue": "={{ $node[\"mission\"].json.kin }}",
              "rightValue": "=kindev",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {
          "ignoreCase": true
        }
      },
      "id": "8107aaf5-0295-4b34-b3f2-4f4faeae042b",
      "name": "If not kindev",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        3400,
        1260
      ],
      "disabled": true
    },
    {
      "parameters": {
        "content": "## TODO : persist and gÃ©rer threadmanagement",
        "height": 344.1232937749526,
        "width": 306.48896719651054
      },
      "id": "a435d6f5-9182-41d5-aff1-c90ea13d6e25",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        980,
        800
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let body = $json.body;\n\nreturn {\"json\": body};"
      },
      "id": "ca93747e-22ee-4ecb-850e-60db92ad8c3b",
      "name": "get body",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1440,
        720
      ]
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "boucle-de-management",
        "options": {}
      },
      "id": "b3bce9ac-bc27-4ed6-acb9-1b45026eace8",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [
        -1660,
        720
      ],
      "webhookId": "cf90f826-df54-4ebe-957b-24866d0dd189"
    },
    {
      "parameters": {
        "workflowId": "rr8aeSM8QYyY8Po4",
        "options": {}
      },
      "id": "074d331c-7e54-428f-b062-0ec43fc9af1b",
      "name": "Send Email",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        3620,
        560
      ]
    },
    {
      "parameters": {
        "content": "## CRUD Mission\nhttps://kins.app.n8n.cloud/workflow/HLDDZOmG8kuk2zTi",
        "height": 274.5517166627047,
        "width": 250.71967654986526
      },
      "id": "421af108-8117-4566-aefa-d51f4d0612dd",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -880,
        860
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "let json = $json;\n\njson.query = \"/crud_mission/read/\" + $json.missionId;\njson.responseFormat = \"json\";\n\nreturn {\"json\": json};"
      },
      "id": "c20f3153-357c-4427-91a0-3f5440f9312c",
      "name": "/crud_mission/read1",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1020,
        960
      ]
    },
    {
      "parameters": {
        "workflowId": "HLDDZOmG8kuk2zTi",
        "options": {}
      },
      "id": "64de47bb-1c2a-4097-8776-b299af66d8ec",
      "name": "CRUD Mission : Read1",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1,
      "position": [
        -800,
        960
      ]
    },
    {
      "parameters": {
        "name": "crud_mission",
        "description": "La fonction \"crud_mission\" permet au Manager d'effectuer des actions sur les missions. Permet de lancer, arrÃªter, ou modifier la mission en cours d'exÃ©cution.\n\nAppels disponibles :\n   - Pour **continuer la boucle de production** : /crud_mission/update/execution todo\n   - Pour **gÃ©rer une exception** : /crud_mission/update/status exception\n   - Pour **formuler une demande spÃ©cifique** : /crud_mission/create/<nomdukindemandÃ©> <Description dÃ©taillÃ©e de la nouvelle mission>.\n   - Pour **conclure la mission** : /crud_mission/update/status done",
        "workflowId": "HLDDZOmG8kuk2zTi",
        "fields": {
          "values": [
            {
              "name": "missionId",
              "stringValue": "={{ $node[\"entree\"].json.missionId }}"
            },
            {
              "name": "responseFormat",
              "stringValue": "=response"
            }
          ]
        }
      },
      "id": "815f7689-2293-4ded-8ae3-3ae1264ae6eb",
      "name": "CRUD Mission",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1,
      "position": [
        1440,
        1240
      ]
    },
    {
      "parameters": {
        "content": "## Todo : architecte devrait gÃ©rer les exceptions"
      },
      "id": "95150814-e9f5-426f-812b-d3d885c775f9",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3680,
        1180
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "f86d6c4a-14cb-46a7-a631-06f4f2aad672",
              "leftValue": "={{ $json.status }}",
              "rightValue": "waiting",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "846b27f7-09a6-4957-9248-613c05aaa1af",
      "name": "If mission status waiting",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        2940,
        1360
      ]
    },
    {
      "parameters": {
        "name": "message_a_humain",
        "description": "La fonction message_a_humain selectionne le membre appropriÃ© de l'Ã©quipe humaine de DigitalKin et lui envoie un message.\n\nIl peut Ãªtre utilisÃ© pour signaler un problÃ¨me, demander de l'aide ou une modification, demander un dÃ©blocage, ou suggÃ©rer une amÃ©lioration.",
        "workflowId": "NjRYPuz1EgoPxWfP",
        "fields": {
          "values": [
            {
              "name": "missionId",
              "stringValue": "={{ $node[\"entree\"].json.missionId }}"
            }
          ]
        }
      },
      "id": "4ef20c71-08ad-4052-bcaa-769ce8316ae5",
      "name": "Message Ã  humain",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1,
      "position": [
        1900,
        1240
      ]
    },
    {
      "parameters": {
        "errorMessage": "=Boucle infinie dans la boucle de management, execution #{{ $execution.id }}"
      },
      "id": "aa1be0d0-e102-4209-8c36-e09374fef13d",
      "name": "Stop and Error2",
      "type": "n8n-nodes-base.stopAndError",
      "typeVersion": 1,
      "position": [
        3480,
        1500
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "f86d6c4a-14cb-46a7-a631-06f4f2aad672",
              "leftValue": "={{ $json.execution }}",
              "rightValue": "doing",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "b67d55f4-cc9a-4208-8417-de1929880506",
      "name": "If infinite loop",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        3280,
        1580
      ]
    }
  ],
  "pinData": {
    "Webhook": [
      {
        "json": {
          "headers": {
            "host": "kins.app.n8n.cloud",
            "x-request-id": "8962553e3d6396ed988ea3b3e2618af2",
            "x-real-ip": "10.40.46.27",
            "x-forwarded-for": "10.40.46.27",
            "x-forwarded-host": "kins.app.n8n.cloud",
            "x-forwarded-port": "443",
            "x-forwarded-proto": "https",
            "x-forwarded-scheme": "https",
            "x-scheme": "https",
            "content-length": "1241",
            "accept": "application/json,text/html,application/xhtml+xml,application/xml,text/*;q=0.9, image/*;q=0.8, */*;q=0.7",
            "content-type": "application/json",
            "user-agent": "axios/1.6.5"
          },
          "params": {},
          "query": {},
          "body": {
            "client": "boiron",
            "kin": "kinlca",
            "sourceGoogleDriveId": "1-pVPzgZCIL_oMYBBxNHd-SRajsoYUSpf",
            "threadId": "18d9f791303f9d91",
            "threadSubject": "LCA Arnica 2022",
            "threadFrom": "INCHAUSPE Aurore <aurore.inchauspe@boiron.fr>",
            "kinDemandeur": "INCHAUSPE Aurore <aurore.inchauspe@boiron.fr>",
            "mailId": "18d9f791303f9d91",
            "mailSubject": "LCA Arnica 2022",
            "mailFrom": "From: INCHAUSPE Aurore <aurore.inchauspe@boiron.fr>",
            "firstAttribute": "kinlca",
            "commandText": "\n\nAurore INCHAUSPE, PhD\nChef de projet Scientifique\nPÃ´le des Affaires Scientifiques et MÃ©dicales Groupe\nTÃ©l. : 85 56\n\n\n[iMAGE tel]\nLe Service Information Boiron est Ã  votre Ã©coute\n\n\nFile attached with email : \"Paumier et al, 2022.pdf\"",
            "date": "2024-02-13T01:22:35.672+01:00",
            "executionId": "189511",
            "dernierProducteur": "kinlca",
            "mission": "\n\nAurore INCHAUSPE, PhD\nChef de projet Scientifique\nPÃ´le des Affaires Scientifiques et MÃ©dicales Groupe\nTÃ©l. : 85 56\n\n\n[iMAGE tel]\nLe Service Information Boiron est Ã  votre Ã©coute\n\n\nFile attached with email : \"Paumier et al, 2022.pdf\"",
            "instructions": "LANCEMENT :C'est le dÃ©but de la mission ! RÃ©alise la prÃ©paration pour lancer la mission",
            "missionId": "kinlca-18d9f791303f9d91",
            "status": "doing",
            "execution": "doing"
          }
        }
      }
    ],
    "Execute Workflow Trigger": [
      {
        "json": {
          "client": "dynergie",
          "commandText": "",
          "date": "2024-02-15T02:03:15.445+01:00",
          "dernierProducteur": "kinlcabeta",
          "execution": "doing",
          "firstAttribute": "ac4a3c7c-c87f-41d7-811a-18947b06631c",
          "instructions": "LANCEMENT :C'est le dÃ©but de la mission ! RÃ©alise la prÃ©paration pour lancer la mission",
          "kin": "kinlcabeta",
          "kinDemandeur": "Lester Reynolds <lreynolds@dynergie.fr>",
          "mailFrom": "From: Lester Reynolds <lreynolds@dynergie.fr>",
          "mailId": "18daa39a9813d5fa",
          "mailSubject": "LCA lotan 2020 beta",
          "mission": "Subject: LCA lotan 2020 beta\nBody: LCA lotan 2020 beta\n\n\nFile attached with email : \"Lotan, European Journal of Plastic Surgery, 2020.pdf\"",
          "missionId": "ac4a3c7c-c87f-41d7-811a-18947b06631c",
          "sourceGoogleDriveId": "1WKLIOXOPbfAQ3XitIMsKta9i0S_0SoaG",
          "status": "doing",
          "threadFrom": "Lester Reynolds <lreynolds@dynergie.fr>",
          "threadId": "18daa39a9813d5fa",
          "threadSubject": "LCA lotan 2020 beta",
          "response": "{\"client\":\"dynergie\",\"commandText\":\"doing\",\"date\":\"2024-02-15T01:46:59.530+01:00\",\"dernierProducteur\":\"kinlcabeta\",\"execution\":\"doing\",\"firstAttribute\":\"kinlcabeta\",\"instructions\":\"LANCEMENT :C'est le dÃ©but de la mission ! RÃ©alise la prÃ©paration pour lancer la mission\",\"kin\":\"kinlcabeta\",\"kinDemandeur\":\"Lester Reynolds <lreynolds@dynergie.fr>\",\"mailFrom\":\"From: Lester Reynolds <lreynolds@dynergie.fr>\",\"mailId\":\"18daa39a9813d5fa\",\"mailSubject\":\"LCA lotan 2020 beta\",\"mission\":\"Subject: LCA lotan 2020 beta\\nBody: LCA lotan 2020 beta\\n\\n\\nFile attached with email : \\\"Lotan, European Journal of Plastic Surgery, 2020.pdf\\\"\",\"missionId\":\"ac4a3c7c-c87f-41d7-811a-18947b06631c\",\"sourceGoogleDriveId\":\"1WKLIOXOPbfAQ3XitIMsKta9i0S_0SoaG\",\"status\":\"doing\",\"threadFrom\":\"Lester Reynolds <lreynolds@dynergie.fr>\",\"threadId\":\"18daa39a9813d5fa\",\"threadSubject\":\"LCA lotan 2020 beta\"}",
          "query": "/crud_mission/read/ac4a3c7c-c87f-41d7-811a-18947b06631c",
          "responseFormat": "json",
          "command": "read",
          "remainingThread": "",
          "entireThread": "[PROCESSUS - Structure attendue du Rapport LCA (Lecture Critique & Analyse)]\r\n\r\n# Rapport Lecture Critique & Analyse - Titre de l'Ãtude\r\n## Objectif de l'Ãtude - RÃ©sumÃ© de l'objectif dÃ©clarÃ© de l'Ã©tude.\r\n## MÃ©thodologie\r\n### Design de l'Ãtude - Type de design et rÃ©fÃ©rences des guides d'Ã©valuation de qualitÃ©.\r\n### Protocole expÃ©rimentale - Dans le cas d'une Ã©tude fondamentale, exposer le protocole utilisÃ© pour faire l'expÃ©rience en mettant en avant les contrÃ´les utilisÃ©e et leur explication ainsi que les modÃ¨les utilisÃ©e et pourquoi et les techniques d'analyse en expliquant brievement leur contenu \r\n### MÃ©thode dâanalyse â Intention to treat ou en Per protocol uniquement si c'est une Ã©tude clinique\r\n### Taille de l'Ãchantillon - DÃ©taille le nombre de patients et leur rÃ©partition dans les groupes si possible. Ãvaluation de la pertinence de la taille de l'Ã©chantillon par rapport Ã  la puissance statistique de l'Ã©tude, uniquement si c'est une Ã©tude clinique.\r\n### MÃ©thodes Statistiques - AdÃ©quation des mÃ©thodes statistiques utilisÃ©es pour analyser les rÃ©sultats et puissance de l'Ã©tude.\r\n### CritÃ¨res d'Inclusion/Exclusion - Justification et pertinence des critÃ¨res d'inclusion/exclusion.PrÃ©ciser les critÃ¨res primaires et les critÃ¨res secondaires si possible, uniquement si c'est une Ã©tude clinique.\r\n## RÃ©sultats\r\n### PrÃ©sentation des rÃ©sultats - PrÃ©sentation des rÃ©sultats avec leur valeurs numÃ©riques et la valeur de leur significativitÃ© statistique.\r\n### Taille de l'Effet - Discussion sur l'importance clinique de la taille de l'effet en fonction du test statistique spÃ©cifique si possibl,uniquement si c'est une Ã©tude clinique.\r\n### Effet indÃ©sirables â Mise en avant de la tolÃ©rance et la sÃ©curitÃ© du traitement et nombre dâeffets indÃ©sirables/secondaires,uniquement si c'est une Ã©tude clinique.\r\n## Discussion et Conclusions\r\n### InterprÃ©tation des RÃ©sultats - Ãvaluation de justesse de l'analyse des donnÃ©es par les auteurs.\r\n### Implications Pratiques - Implications pratiques des rÃ©sultats et recommandations.\r\n### ReproductibilitÃ© - Evaluation de la capacitÃ© de rÃ©itÃ©ration des rÃ©sultats dans diffÃ©rents contextes ou populations.\r\n### Contexte Scientifique - Explication de la portÃ©e des rÃ©sultats dans le cadre scientifique plus large.\r\n## Analyse Critique\r\n### Points Forts - ÃnumÃ©ration les forces et aspects positifs de l'Ã©tude.\r\n### Limitations - Discussion des faiblesses, biais potentiels, et applicabilitÃ© des rÃ©sultats.\r\n### Suggestions d'amÃ©lioration - ÃnumÃ©ration des points qui serait possible d'amÃ©liorer et comment.\r\n### Proposition de prochaines Ã©tapes - Elaborer un plan expÃ©rimentale prÃ©cis pour dÃ©velopper et continuer le projet de recherche. Quels protocoles . Quels modÃ¨les ? Quels techniques? \r\n## Analyse des figues, tableaux et graphes - Evaluation des figures,tableaux et graphes et de leur correspondance avec les rÃ©sultats.\r\n### RÃ©fÃ©rences et AntÃ©cÃ©dents - Evaluation de l'appui des conclusions sur des preuves antÃ©rieures.\r\n\r\n[/PROCESSUS - Structure attendue du Rapport LCA (Lecture Critique & Analyse)]\r\n\r\n---\r\n\r\n[PROCESSUS - Fonction GPT \"questionneur_de_source\"]\r\n\r\nLe KinLCA a accÃ¨s Ã  la fonction GPT \"questionneur_de_source\", et ce questionneur de source est paramÃ©trÃ© pour lui donner accÃ¨s Ã  l'Ã©tude dont il a besoin pour la LCA.\r\n\r\n[/PROCESSUS - Fonction GPT \"questionneur_de_source\"]\r\n\r\n---\r\n\r\n[PROCESSUS - Etapes de RÃ©daction du Rapport LCA]\r\n\r\nTODOLIST :\r\n\r\n- ACTION 1 : Ãvaluer l'Objectif de l'Ãtude : TODO\r\n- ACTION 2 : Analyser la MÃ©thodologie : TODO\r\n- ACTION 3 : Ãvaluation des RÃ©sultats : TODO\r\n- ACTION 4 : Critiquer la Discussion et les Conclusions : TODO\r\n- ACTION 5 : Conduire une Analyse Critique : TODO\r\n- ACTION 6 : Analyse des figures, tableaux et graphs : TODO\r\n- ACTION 7 : Signature Finale : TODO\r\n\r\n[/PROCESSUS - Etapes de RÃ©daction du Rapport LCA]\r\n\r\n---\r\n\r\n\n\n---\n\n[INSTRUCTION]\r\nCommence par examiner l'objectif de l'Ã©tude en lisant attentivement le rÃ©sumÃ© de l'Ã©tude. Fais une Ã©valuation initiale de la clartÃ© de l'objectif dÃ©clarÃ© et de sa pertinence dans le contexte de la recherche. Une fois cela fait, passe Ã  l'analyse de la mÃ©thodologie utilisÃ©e dans l'Ã©tude.\r\n[/INSTRUCTION]",
          "thread": "[PROCESSUS - Structure attendue du Rapport LCA (Lecture Critique & Analyse)]\r\n\r\n# Rapport Lecture Critique & Analyse - Titre de l'Ãtude\r\n## Objectif de l'Ãtude - RÃ©sumÃ© de l'objectif dÃ©clarÃ© de l'Ã©tude.\r\n## MÃ©thodologie\r\n### Design de l'Ãtude - Type de design et rÃ©fÃ©rences des guides d'Ã©valuation de qualitÃ©.\r\n### Protocole expÃ©rimentale - Dans le cas d'une Ã©tude fondamentale, exposer le protocole utilisÃ© pour faire l'expÃ©rience en mettant en avant les contrÃ´les utilisÃ©e et leur explication ainsi que les modÃ¨les utilisÃ©e et pourquoi et les techniques d'analyse en expliquant brievement leur contenu \r\n### MÃ©thode dâanalyse â Intention to treat ou en Per protocol uniquement si c'est une Ã©tude clinique\r\n### Taille de l'Ãchantillon - DÃ©taille le nombre de patients et leur rÃ©partition dans les groupes si possible. Ãvaluation de la pertinence de la taille de l'Ã©chantillon par rapport Ã  la puissance statistique de l'Ã©tude, uniquement si c'est une Ã©tude clinique.\r\n### MÃ©thodes Statistiques - AdÃ©quation des mÃ©thodes statistiques utilisÃ©es pour analyser les rÃ©sultats et puissance de l'Ã©tude.\r\n### CritÃ¨res d'Inclusion/Exclusion - Justification et pertinence des critÃ¨res d'inclusion/exclusion.PrÃ©ciser les critÃ¨res primaires et les critÃ¨res secondaires si possible, uniquement si c'est une Ã©tude clinique.\r\n## RÃ©sultats\r\n### PrÃ©sentation des rÃ©sultats - PrÃ©sentation des rÃ©sultats avec leur valeurs numÃ©riques et la valeur de leur significativitÃ© statistique.\r\n### Taille de l'Effet - Discussion sur l'importance clinique de la taille de l'effet en fonction du test statistique spÃ©cifique si possibl,uniquement si c'est une Ã©tude clinique.\r\n### Effet indÃ©sirables â Mise en avant de la tolÃ©rance et la sÃ©curitÃ© du traitement et nombre dâeffets indÃ©sirables/secondaires,uniquement si c'est une Ã©tude clinique.\r\n## Discussion et Conclusions\r\n### InterprÃ©tation des RÃ©sultats - Ãvaluation de justesse de l'analyse des donnÃ©es par les auteurs.\r\n### Implications Pratiques - Implications pratiques des rÃ©sultats et recommandations.\r\n### ReproductibilitÃ© - Evaluation de la capacitÃ© de rÃ©itÃ©ration des rÃ©sultats dans diffÃ©rents contextes ou populations.\r\n### Contexte Scientifique - Explication de la portÃ©e des rÃ©sultats dans le cadre scientifique plus large.\r\n## Analyse Critique\r\n### Points Forts - ÃnumÃ©ration les forces et aspects positifs de l'Ã©tude.\r\n### Limitations - Discussion des faiblesses, biais potentiels, et applicabilitÃ© des rÃ©sultats.\r\n### Suggestions d'amÃ©lioration - ÃnumÃ©ration des points qui serait possible d'amÃ©liorer et comment.\r\n### Proposition de prochaines Ã©tapes - Elaborer un plan expÃ©rimentale prÃ©cis pour dÃ©velopper et continuer le projet de recherche. Quels protocoles . Quels modÃ¨les ? Quels techniques? \r\n## Analyse des figues, tableaux et graphes - Evaluation des figures,tableaux et graphes et de leur correspondance avec les rÃ©sultats.\r\n### RÃ©fÃ©rences et AntÃ©cÃ©dents - Evaluation de l'appui des conclusions sur des preuves antÃ©rieures.\r\n\r\n[/PROCESSUS - Structure attendue du Rapport LCA (Lecture Critique & Analyse)]\r\n\r\n---\r\n\r\n[PROCESSUS - Fonction GPT \"questionneur_de_source\"]\r\n\r\nLe KinLCA a accÃ¨s Ã  la fonction GPT \"questionneur_de_source\", et ce questionneur de source est paramÃ©trÃ© pour lui donner accÃ¨s Ã  l'Ã©tude dont il a besoin pour la LCA.\r\n\r\n[/PROCESSUS - Fonction GPT \"questionneur_de_source\"]\r\n\r\n---\r\n\r\n[PROCESSUS - Etapes de RÃ©daction du Rapport LCA]\r\n\r\nTODOLIST :\r\n\r\n- ACTION 1 : Ãvaluer l'Objectif de l'Ãtude : TODO\r\n- ACTION 2 : Analyser la MÃ©thodologie : TODO\r\n- ACTION 3 : Ãvaluation des RÃ©sultats : TODO\r\n- ACTION 4 : Critiquer la Discussion et les Conclusions : TODO\r\n- ACTION 5 : Conduire une Analyse Critique : TODO\r\n- ACTION 6 : Analyse des figures, tableaux et graphs : TODO\r\n- ACTION 7 : Signature Finale : TODO\r\n\r\n[/PROCESSUS - Etapes de RÃ©daction du Rapport LCA]\r\n\r\n---\r\n\r\n\n\n---\n\n[INSTRUCTION]\r\nCommence par examiner l'objectif de l'Ã©tude en lisant attentivement le rÃ©sumÃ© de l'Ã©tude. Fais une Ã©valuation initiale de la clartÃ© de l'objectif dÃ©clarÃ© et de sa pertinence dans le contexte de la recherche. Une fois cela fait, passe Ã  l'analyse de la mÃ©thodologie utilisÃ©e dans l'Ã©tude.\r\n[/INSTRUCTION]",
          "documentGoogleDriveId": "1zZojJ2EUxcymNoMrtYj2ypmyJ9xaaD57",
          "executionId": "228982",
          "output": "[INSTRUCTION]\r\nCommence par examiner l'objectif de l'Ã©tude en lisant attentivement le rÃ©sumÃ© de l'Ã©tude. Fais une Ã©valuation initiale de la clartÃ© de l'objectif dÃ©clarÃ© et de sa pertinence dans le contexte de la recherche. Une fois cela fait, passe Ã  l'analyse de la mÃ©thodologie utilisÃ©e dans l'Ã©tude.\r\n[/INSTRUCTION]",
          "promptProducteur": "MISSION GLOBALE\n===============\n\nSubject: LCA lotan 2020 beta\nBody: LCA lotan 2020 beta\n\n\nFile attached with email : \"Lotan, European Journal of Plastic Surgery, 2020.pdf\"\n\nTHREAD D'AVANCEMENT\n===============\n\n[PROCESSUS - Structure attendue du Rapport LCA (Lecture Critique & Analyse)]\r\n\r\n# Rapport Lecture Critique & Analyse - Titre de l'Ãtude\r\n## Objectif de l'Ãtude - RÃ©sumÃ© de l'objectif dÃ©clarÃ© de l'Ã©tude.\r\n## MÃ©thodologie\r\n### Design de l'Ãtude - Type de design et rÃ©fÃ©rences des guides d'Ã©valuation de qualitÃ©.\r\n### Protocole expÃ©rimentale - Dans le cas d'une Ã©tude fondamentale, exposer le protocole utilisÃ© pour faire l'expÃ©rience en mettant en avant les contrÃ´les utilisÃ©e et leur explication ainsi que les modÃ¨les utilisÃ©e et pourquoi et les techniques d'analyse en expliquant brievement leur contenu \r\n### MÃ©thode dâanalyse â Intention to treat ou en Per protocol uniquement si c'est une Ã©tude clinique\r\n### Taille de l'Ãchantillon - DÃ©taille le nombre de patients et leur rÃ©partition dans les groupes si possible. Ãvaluation de la pertinence de la taille de l'Ã©chantillon par rapport Ã  la puissance statistique de l'Ã©tude, uniquement si c'est une Ã©tude clinique.\r\n### MÃ©thodes Statistiques - AdÃ©quation des mÃ©thodes statistiques utilisÃ©es pour analyser les rÃ©sultats et puissance de l'Ã©tude.\r\n### CritÃ¨res d'Inclusion/Exclusion - Justification et pertinence des critÃ¨res d'inclusion/exclusion.PrÃ©ciser les critÃ¨res primaires et les critÃ¨res secondaires si possible, uniquement si c'est une Ã©tude clinique.\r\n## RÃ©sultats\r\n### PrÃ©sentation des rÃ©sultats - PrÃ©sentation des rÃ©sultats avec leur valeurs numÃ©riques et la valeur de leur significativitÃ© statistique.\r\n### Taille de l'Effet - Discussion sur l'importance clinique de la taille de l'effet en fonction du test statistique spÃ©cifique si possibl,uniquement si c'est une Ã©tude clinique.\r\n### Effet indÃ©sirables â Mise en avant de la tolÃ©rance et la sÃ©curitÃ© du traitement et nombre dâeffets indÃ©sirables/secondaires,uniquement si c'est une Ã©tude clinique.\r\n## Discussion et Conclusions\r\n### InterprÃ©tation des RÃ©sultats - Ãvaluation de justesse de l'analyse des donnÃ©es par les auteurs.\r\n### Implications Pratiques - Implications pratiques des rÃ©sultats et recommandations.\r\n### ReproductibilitÃ© - Evaluation de la capacitÃ© de rÃ©itÃ©ration des rÃ©sultats dans diffÃ©rents contextes ou populations.\r\n### Contexte Scientifique - Explication de la portÃ©e des rÃ©sultats dans le cadre scientifique plus large.\r\n## Analyse Critique\r\n### Points Forts - ÃnumÃ©ration les forces et aspects positifs de l'Ã©tude.\r\n### Limitations - Discussion des faiblesses, biais potentiels, et applicabilitÃ© des rÃ©sultats.\r\n### Suggestions d'amÃ©lioration - ÃnumÃ©ration des points qui serait possible d'amÃ©liorer et comment.\r\n### Proposition de prochaines Ã©tapes - Elaborer un plan expÃ©rimentale prÃ©cis pour dÃ©velopper et continuer le projet de recherche. Quels protocoles . Quels modÃ¨les ? Quels techniques? \r\n## Analyse des figues, tableaux et graphes - Evaluation des figures,tableaux et graphes et de leur correspondance avec les rÃ©sultats.\r\n### RÃ©fÃ©rences et AntÃ©cÃ©dents - Evaluation de l'appui des conclusions sur des preuves antÃ©rieures.\r\n\r\n[/PROCESSUS - Structure attendue du Rapport LCA (Lecture Critique & Analyse)]\r\n\r\n---\r\n\r\n[PROCESSUS - Fonction GPT \"questionneur_de_source\"]\r\n\r\nLe KinLCA a accÃ¨s Ã  la fonction GPT \"questionneur_de_source\", et ce questionneur de source est paramÃ©trÃ© pour lui donner accÃ¨s Ã  l'Ã©tude dont il a besoin pour la LCA.\r\n\r\n[/PROCESSUS - Fonction GPT \"questionneur_de_source\"]\r\n\r\n---\r\n\r\n[PROCESSUS - Etapes de RÃ©daction du Rapport LCA]\r\n\r\nTODOLIST :\r\n\r\n- ACTION 1 : Ãvaluer l'Objectif de l'Ãtude : TODO\r\n- ACTION 2 : Analyser la MÃ©thodologie : TODO\r\n- ACTION 3 : Ãvaluation des RÃ©sultats : TODO\r\n- ACTION 4 : Critiquer la Discussion et les Conclusions : TODO\r\n- ACTION 5 : Conduire une Analyse Critique : TODO\r\n- ACTION 6 : Analyse des figures, tableaux et graphs : TODO\r\n- ACTION 7 : Signature Finale : TODO\r\n\r\n[/PROCESSUS - Etapes de RÃ©daction du Rapport LCA]\r\n\r\n---\r\n\r\n\n\nINSTRUCTIONS\n===============\n\nLANCEMENT :C'est le dÃ©but de la mission ! RÃ©alise la prÃ©paration pour lancer la mission"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "callerPolicy": "any",
    "saveExecutionProgress": true,
    "executionTimeout": 2400,
    "errorWorkflow": "PYJaVWpuygsfVZry"
  },
  "staticData": {
    "node:Schedule Trigger": {
      "recurrencyRules": [
        14
      ]
    },
    "node:Nico reÃ§oit un email": {
      "lastTimeChecked": 1706021400,
      "possibleDuplicates": [
        "18d36ccb1edf6bcf"
      ]
    }
  },
  "tags": [
    {
      "createdAt": "2024-01-21T09:46:57.068Z",
      "updatedAt": "2024-01-21T09:46:57.068Z",
      "id": "O7AwhYu4Pf4sOOHS",
      "name": "beta"
    },
    {
      "createdAt": "2023-12-17T21:33:59.044Z",
      "updatedAt": "2023-12-17T21:33:59.044Z",
      "id": "cV0ITFyTfPijMrvR",
      "name": "kin"
    }
  ],
  "triggerCount": 1,
  "updatedAt": "2024-02-15T01:17:34.000Z",
  "versionId": "3223289e-59cf-4361-a851-25e0f0ce717a"
}